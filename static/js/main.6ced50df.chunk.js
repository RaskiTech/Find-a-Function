(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){},57:function(e,n){},61:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t(14),a=t.n(i),o=(t(37),t(9)),c=t(7),u=(t(38),t(15)),l=t(16),s=t(32),f=t(31),d=t(2),h=t(3),v=function(e,n,t){var i=Object(r.useRef)(null),a=Object(r.useState)(window.innerWidth),o=Object(c.a)(a,2),u=(o[0],o[1]),l=Object(r.useState)(window.innerHeight),s=Object(c.a)(l,2),f=(s[0],s[1]),d=Object(r.useState)(!0),h=Object(c.a)(d,2),v=h[0],p=h[1],b=function(){u(window.innerWidth),f(window.innerHeight)},g=function(e){t(e.deltaY),e.preventDefault()};return Object(r.useEffect)((function(){var t=i.current,r=t.getContext("2d");return t.width=window.innerWidth,t.height=window.innerHeight,t.style.left="0px",t.style.top="0px",t.style.position="absolute",v&&(p(!1),n(r)),e(r),window.addEventListener("resize",b),window.addEventListener("wheel",g,{passive:!1}),function(){window.removeEventListener("resize",b),window.removeEventListener("wheel",g,{passive:!1})}})),i},p=t(1),b=["init","draw","zoom","canvasDrag","addDataPoint"],g=function(e){var n=e.init,t=e.draw,i=e.zoom,a=e.canvasDrag,o=e.addDataPoint,u=Object(h.a)(e,b),l=v(t,n,(function(e){i(e,M,D)})),s=Object(r.useState)(!1),f=Object(c.a)(s,2),g=f[0],j=f[1],O=Object(r.useState)(!1),w=Object(c.a)(O,2),x=w[0],y=w[1],m=Object(r.useState)(0),S=Object(c.a)(m,2),M=S[0],F=S[1],_=Object(r.useState)(0),k=Object(c.a)(_,2),D=k[0],T=k[1];return Object(p.jsx)("canvas",Object(d.a)({id:"canvas",className:"canvas",onTouchStart:function(e){j(!0),y(!1);var n=e.touches[0];F(n.clientX),T(n.clientY)},onTouchEnd:function(e){j(!1),x||o(M,D)},onTouchMove:function(e){y(!0);var n=e.touches[0],t=M-n.clientX,r=D-n.clientY;F(n.clientX),T(n.clientY),a(t,r)},onMouseMove:function(e){var n=e.nativeEvent,t=n.offsetX,r=n.offsetY;(F(t),T(r),g)&&(y(!0),a(M-t,D-r))},onMouseDown:function(e){var n=e.nativeEvent;j(!0),y(!1);var t=n.offsetX,r=n.offsetY;F(t),T(r)},onMouseUp:function(e){var n=e.nativeEvent;if(j(!1),!x){var t=n.offsetX,r=n.offsetY;o(t,r)}},ref:l},u))},j={white:"#ffffff",gray:"#ecf0f1",grayDark:"#bdc3c7",black:"#34495e",blackDark:"#2c3e50",yellow:"#f1c40f",yellowDark:"#f39c12",orange:"#e67e22",orangeDark:"#d35400",turquoise:"#1abc9c",turquoiseDark:"#16a085",blue:"#3498db",purple:"#9b59b6"},O=t(67),w=1e12,x=1.5e-9,y=["#F8E287","#8DDECE","#9ACCED","#CDACDB","#F3BF91","#F3A69E","#97E6B8","#9AA4AF"],m=[[function(e,n){return e.map((function(e){return n[0]+e*n[1]}))},function(e,n){return n[0]+e*n[1]},function(e,n){return k(2,e,n)},"_x + _",1,-1/0,1/0,2],[function(e,n){return e.map((function(e){return n[0]+e*n[1]+e*e*n[2]}))},function(e,n){return n[0]+e*n[1]+e*e*n[2]},function(e,n){return k(3,e,n)},"_x\xb2 + _x + _",2,-1/0,1/0,3],[function(e,n){return e.map((function(e){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]}))},function(e,n){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]},function(e,n){return k(4,e,n)},"_x\xb3 + _x\xb2 + _x + _",3,-1/0,1/0,4],[function(e,n){return e.map((function(e){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]+Math.pow(e,4)*n[4]}))},function(e,n){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]+Math.pow(e,4)*n[4]},function(e,n){return k(5,e,n)},"_x\u2074 + _x\xb3 + _x\xb2 + _x + _",4,-1/0,1/0,5],[function(e,n){return e.map((function(e){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]+Math.pow(e,4)*n[4]+Math.pow(e,5)*n[5]}))},function(e,n){return n[0]+e*n[1]+e*e*n[2]+Math.pow(e,3)*n[3]+Math.pow(e,4)*n[4]+Math.pow(e,5)*n[5]},function(e,n){return k(6,e,n)},"_x\u2075 + _x\u2074 + _x\xb3 + _x\xb2 + _x + _",5,-1/0,1/0,6],[function(e,n){return e.map((function(e){return n[0]*Math.exp(n[1]*e)+n[2]}))},function(e,n){return n[0]*Math.exp(n[1]*e)+n[2]},function(e,n){return D(5,5e3,e,n)},"_e^_ + _",1,-1/0,1/0,1],[function(e,n){return e.map((function(e){return n[0]*Math.sin(n[1]*e+n[2])+n[3]}))},function(e,n){return n[0]*Math.sin(n[1]*e+n[2])+n[3]},function(e,n){return D(6,5e3,e,n)},"_ * sin(_x + _) + _",3,-1/0,1/0,4],[function(e,n){return e.map((function(e){return n[0]*Math.log(n[1]*e)}))},function(e,n){return n[0]*Math.log(n[1]*e)},function(e,n){return D(7,5e3,e,n)},"_ * ln(_x)",1,1e-12,1/0,1]],S=function(e){Object(s.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(u.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).ctx=void 0,e.scale=50,e.drawEveryNthLine=1,e.xOrigin=void 0,e.yOrigin=void 0,e.renderingFunctionObjects=[],e.initCanvas=function(n){e.ctx=n,e.xOrigin=n.canvas.width/2,e.yOrigin=n.canvas.height/2},e.canvasDrag=function(n,t){e.xOrigin-=n,e.yOrigin-=t},e.componentDidUpdate=function(n,t){e.props.clearBoardFlag!==n.clearBoardFlag&&(e.renderingFunctionObjects=[]),!0===e.props.findingBestLine&&!1===n.findingBestLine&&(e.renderingFunctionObjects=[],e.renderingFunctionObjects=M(e.props.points),e.props.stopFunctionFind())},e.planeToScreenSpace=function(n,t){var r=n*e.scale,i=t*-e.scale;return[e.xOrigin+r,e.yOrigin+i]},e.screenToPlaneSpace=function(n,t){var r=n-e.xOrigin,i=t-e.yOrigin;return[r/e.scale,i/-e.scale]},e.zoomMultiplyCounter=2,e.zoom=function(n,t,r){var i=n*e.scale*.003;if(e.scale>w&&i<0||e.scale<x&&i>0)console.log("Returning cause scale is",e.scale,"and delta is",i);else{var a=e.screenToPlaneSpace(t,r);e.scale-=i;var o=e.planeToScreenSpace(a[0],a[1]);e.xOrigin-=o[0]-t,e.yOrigin-=o[1]-r,e.drawEveryNthLine*e.scale<20?(e.zoomMultiplyCounter--,e.zoomMultiplyCounter<0?(e.zoomMultiplyCounter+=3,e.drawEveryNthLine*=2.5):e.drawEveryNthLine*=2):e.drawEveryNthLine*e.scale>50&&(e.zoomMultiplyCounter++,e.zoomMultiplyCounter>2?(e.zoomMultiplyCounter-=3,e.drawEveryNthLine/=2.5):e.drawEveryNthLine/=2),e.draw()}},e.draw=function(){var n=function(n,t,r){n.lineWidth=5,n.strokeStyle=r,n.beginPath();for(var i=m[t[1]][5],a=m[t[1]][6],o=void 0===i?0:Math.max(e.planeToScreenSpace(i,0)[0],0),c=void 0===a?n.canvas.width:Math.min(e.planeToScreenSpace(a,0)[0],n.canvas.width),u=(c-o)/200,l=o;l<c;l+=u){var s=e.screenToPlaneSpace(l,0)[0],f=e.planeToScreenSpace(0,t[0](s))[1];n.lineTo(l,Math.max(0,Math.min(f,n.canvas.height)))}n.stroke()},t=function(e,n,t,r,i){e.fillStyle=y[7],e.font="15px Arial",e.fillText("Error "+F(n[3],Math.pow(10,10)),r,i+15),e.font="25px Arial",e.fillStyle=y[7],e.fillText(n[2],r+1,i+1),e.fillStyle=t,e.fillText(n[2],r,i)},r=e.ctx;if(void 0!==r){r.lineWidth=1,function(e){e.fillStyle=j.white,e.beginPath(),e.fillRect(0,0,e.canvas.width,e.canvas.height),e.fill()}(r),function(n){n.lineWidth=2,n.beginPath(),n.strokeStyle=j.gray;for(var t=e.scale*e.drawEveryNthLine,r=e.xOrigin%t,i=r;i<n.canvas.width;i+=t)n.moveTo(i,0),n.lineTo(i,n.canvas.height);for(var a=r=e.yOrigin%t;a<n.canvas.height;a+=t)n.moveTo(0,a),n.lineTo(n.canvas.width,a);n.stroke()}(r);for(var i=0;i<e.renderingFunctionObjects.length;i++)n(r,e.renderingFunctionObjects[i],y[i]);!function(n){n.lineWidth=2,n.beginPath(),n.strokeStyle=j.black,n.moveTo(0,e.yOrigin),n.lineTo(n.canvas.width,e.yOrigin),n.moveTo(e.xOrigin,0),n.lineTo(e.xOrigin,n.canvas.height),n.stroke()}(r),function(n){n.beginPath(),n.fillStyle=j.blue;for(var t=0;t<e.props.points.length;t++){var r=e.planeToScreenSpace(e.props.points[t][0],e.props.points[t][1]),i=Object(c.a)(r,2),a=i[0],o=i[1];n.moveTo(a,o),n.arc(a,o,6,0,2*Math.PI)}n.fill()}(r),function(n){var t=5*e.drawEveryNthLine,r=e.screenToPlaneSpace(0,0),i=Math.floor(r[0]/t)*t,a=Math.floor(r[1]/t)*t,o=e.planeToScreenSpace(i,a);n.font="20px Arial",n.fillStyle=j.blackDark;for(var c=1e11,u=0,l=o[0]+0;l<n.canvas.width;){var s=Math.round((i+u*t)*c)/c;0!==s&&n.fillText(s,l,-5+e.yOrigin),u++,l+=e.scale*t}for(u=0,l=o[1]+-5;l<n.canvas.height;){var f=Math.round((a+u*t)*c)/c;0!==f&&n.fillText(f,0+e.xOrigin,l),u--,l+=e.scale*t}}(r);for(var a=0;a<e.renderingFunctionObjects.length;a++)t(r,e.renderingFunctionObjects[a],y[a],30,window.innerHeight-50*a-30)}else console.error("Canvas context was undefined!")},e}return Object(l.a)(t,[{key:"render",value:function(){return Object(p.jsx)(g,{init:this.initCanvas,draw:this.draw,zoom:this.zoom,addDataPoint:function(){},canvasDrag:this.canvasDrag})}}]),t}(r.Component);function M(e){for(var n=Array(e.length),t=Array(e.length),r=0;r<e.length;r++)n[r]=e[r][0],t[r]=e[r][1];for(var i=[],a=0,o=function(r){if(e.length<m[r][7])return"continue";var o=m[r][2](n,t),c=m[r][4];i[a]=[function(e){return m[r][1](e,o)},r,-1,o],i[a][2]=c*function(e,n,t){for(var r=0,i=0;i<n.length;i++)r+=Math.pow(e(n[i])-t[i],2);return r/n.length}(i[a][0],n,t),a++},c=0;c<m.length;c++)o(c);i.sort((function(e,n){return e[2]<n[2]?-1:1}));for(var u=[],l=0;l<3&&!(0!==l&&i[l][2]>1);l++)u.push([i[l][0],i[l][1],_(i[l][1],i[l][3]),i[l][2]]);return u}function F(e,n){return Math.round((e+Number.EPSILON)*n)/n}function _(e,n){for(var t=Math.pow(10,5),r=function(e){return F(e,t)},i=m[e][3],a=n.length-1,o=0;o<i.length;o++)"_"===i[o]&&(n[a]<0?o-2>0&&"+"==i[o-2]?i=(i=i.slice(0,o-2)+"-"+i.slice(o-1)).slice(0,o)+r(Math.abs(n[a]))+i.slice(o+1):o-1>0&&"+"==i[o-1]?(i[o-1]="-",i=i.slice(0,o)+r(Math.abs(n[a]))+i.slice(o+1)):i=i.slice(0,o)+r(n[a])+i.slice(o+1):i=i.slice(0,o)+r(n[a])+i.slice(o+1),a--);return i}function k(e,n,t){for(var r=Object(O.b)(e,e),i=Object(O.b)(1,e),a=[],o=0;o<2*e-1;o++){a[o]=0;for(var c=0;c<n.length;c++)a[o]+=Math.pow(n[c],o)}r=r.map((function(e,n){return a[n[0]+n[1]]})),i=i.map((function(e,r,i){for(var a=0,o=0;o<n.length;o++)a+=t[o]*Math.pow(n[o],r[1]);return a}));var u=function(e){if(e.length===e[0].length){var n=0,t=0,r=0,i=e.length,a=0,o=[],c=[];for(n=0;n<i;n+=1)for(o[o.length]=[],c[c.length]=[],r=0;r<i;r+=1)o[n][r]=n===r?1:0,c[n][r]=e[n][r];for(n=0;n<i;n+=1){if(0===(a=c[n][n])){for(t=n+1;t<i;t+=1)if(0!==c[t][n]){for(r=0;r<i;r++)a=c[n][r],c[n][r]=c[t][r],c[t][r]=a,a=o[n][r],o[n][r]=o[t][r],o[t][r]=a;break}if(0===(a=c[n][n]))return}for(r=0;r<i;r++)c[n][r]=c[n][r]/a,o[n][r]=o[n][r]/a;for(t=0;t<i;t++)if(t!==n)for(a=c[t][n],r=0;r<i;r++)c[t][r]-=a*c[n][r],o[t][r]-=a*o[n][r]}return o}}(r._data);return Object(O.a)(i,u)._data[0]}function D(e,n,t,r){var i=m[e][3].split("_").length-1,a=Array(i).fill(1);return function(e,n,t,r,i){i||(i={});i.maxIter||(i.maxIter=1e3);i.step||(i.step=n.map((function(e){return e/100})),i.step=i.step.map((function(e){return 0==e?1:e})));"undefined"==typeof i.display&&(i.display=!0);i.objFun||(i.objFun=function(e,n){return e.map((function(e,t){return Math.pow(e-n[t],2)})).reduce((function(e,n){return e+n}))});for(var a=function(e){return e.map((function(e){return e}))},o=a(n),c=a(n),u=o.length,l=i.step,s=function(n){return i.objFun(r,e(t,n))},f=0;f<i.maxIter;f++)for(var d=0;d<u;d++)(c=a(o))[d]+=l[d],s(c)<s(o)?(l[d]=1.2*l[d],o=a(c)):l[d]=-.5*l[d];return o}(m[e][0],a,t,r,{maxIter:n,display:!1})}var T=S,C=t(68),E=t(43),N=t(70),L=t(69),z=t(66);var P=function(e){var n=e.addPoint,t={backgroundColor:j.yellowDark,borderColor:j.yellowDark},i=Object(r.useState)(""),a=Object(c.a)(i,2),u=a[0],l=a[1],s=Object(r.useState)(""),f=Object(c.a)(s,2),d=f[0],h=f[1],v=Object(r.useState)(!1),b=Object(c.a)(v,2),g=b[0],O=b[1],w=Object(r.useState)(!1),x=Object(c.a)(w,2),y=x[0],m=x[1];function S(){var e=""===d||""===u;O(""===d),m(""===u),e||(l(""),h(""),n(Number(d),Number(u)))}var M=function(e,n){var t=e.key.toLowerCase();if(["enter"].includes(t)||["arrowright"].includes(t)&&e.target.selectionStart==e.target.defaultValue.length||["arrowleft"].includes(t)&&0==e.target.selectionStart){var r=e.target.form,i=Object(o.a)(r).indexOf(e.target);r.elements[i+n].focus(),e.preventDefault()}},F=function(e){return e.target.value.replace(",",".").replace(/[^0-9.,-]/g,"").replace(/(\..*)\./g,"$1").replace(/(?<=.)[-]/g,"")};return Object(p.jsxs)(C.a,{style:{background:j.turquoise},expand:"lg",sticky:"top",children:[Object(p.jsx)(E.a,{children:Object(p.jsxs)("div",{className:"leftSide",children:[Object(p.jsx)("h7",{className:"logoText",children:"Find a Function"}),Object(p.jsx)(N.a,{style:t,onClick:function(){return e.clear()},children:"Clear"})]})}),Object(p.jsx)(E.a,{children:Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(N.a,{style:t,disabled:!e.findingDone,onClick:function(){return e.startFunctionFind()},children:e.findingDone?"Start Find":"Finding..."})})}),Object(p.jsx)(E.a,{children:Object(p.jsx)("div",{className:"rightSide",children:Object(p.jsx)(L.a,{children:Object(p.jsxs)(z.a,{children:[Object(p.jsx)(E.a,{className:"numberField",children:Object(p.jsx)(L.a.Control,{isInvalid:g,size:"sm",type:"text",placeholder:"X-Coord",value:d,onInput:function(e){return h(F(e))},onKeyDown:function(e){M(e,1)}})}),Object(p.jsx)(E.a,{className:"numberField",children:Object(p.jsx)(L.a.Control,{style:{"vertical-align":"middle"},isInvalid:y,size:"sm",type:"text",placeholder:"Y-Coord",value:u,onInput:function(e){return l(F(e))},onKeyDown:function(e){M(e,-1),"enter"===e.key.toLowerCase()&&S()}})}),Object(p.jsx)(E.a,{style:{width:"20%"},children:Object(p.jsx)(N.a,{style:t,onClick:S,children:"Add"})})]})})})})]})};var A=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],i=n[1],a=Object(r.useState)(!1),u=Object(c.a)(a,2),l=u[0],s=u[1],f=Object(r.useState)(!1),d=Object(c.a)(f,2),h=d[0],v=d[1],b=Object(r.useState)(!0),g=Object(c.a)(b,2),j=g[0],O=g[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(P,{addPoint:function(e,n){i([].concat(Object(o.a)(t),[[e,n]]))},clear:function(){i([]),s(!l)},findingDone:j,startFunctionFind:function(){v(!0),O(!1)}}),Object(p.jsx)(T,{clearBoardFlag:l,points:t,findingBestLine:h,stopFunctionFind:function(){v(!1),O(!0)}})]})};t(60);a.a.render(Object(p.jsx)(A,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6ced50df.chunk.js.map