(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{37:function(n,e,t){},47:function(n,e,t){},57:function(n,e){},61:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t(14),a=t.n(i),o=(t(37),t(9)),c=t(7),u=(t(47),t(15)),l=t(16),s=t(32),f=t(31),d=t(2),h=t(3),v=function(n,e,t){var i=Object(r.useRef)(null),a=Object(r.useState)(window.innerWidth),o=Object(c.a)(a,2),u=(o[0],o[1]),l=Object(r.useState)(window.innerHeight),s=Object(c.a)(l,2),f=(s[0],s[1]),d=Object(r.useState)(!0),h=Object(c.a)(d,2),v=h[0],p=h[1],b=function(){u(window.innerWidth),f(window.innerHeight)},g=function(n){t(n.deltaY),n.preventDefault()};return Object(r.useEffect)((function(){var t=i.current,r=t.getContext("2d");return t.width=window.innerWidth,t.height=window.innerHeight,t.style.left="0px",t.style.top="0px",t.style.position="absolute",v&&(p(!1),e(r)),n(r),window.addEventListener("resize",b),window.addEventListener("wheel",g,{passive:!1}),function(){window.removeEventListener("resize",b),window.removeEventListener("wheel",g,{passive:!1})}})),i},p=t(1),b=["init","draw","zoom","canvasDrag","addDataPoint"],g=function(n){var e=n.init,t=n.draw,i=n.zoom,a=n.canvasDrag,o=n.addDataPoint,u=Object(h.a)(n,b),l=v(t,e,(function(n){i(n,S,D)})),s=Object(r.useState)(!1),f=Object(c.a)(s,2),g=f[0],j=f[1],O=Object(r.useState)(!1),w=Object(c.a)(O,2),x=w[0],y=w[1],m=Object(r.useState)(0),M=Object(c.a)(m,2),S=M[0],_=M[1],F=Object(r.useState)(0),k=Object(c.a)(F,2),D=k[0],C=k[1];return Object(p.jsx)("canvas",Object(d.a)({id:"canvas",className:"canvas",onTouchStart:function(n){j(!0),y(!1);var e=n.touches[0];_(e.clientX),C(e.clientY)},onTouchEnd:function(n){j(!1),x||o(S,D)},onTouchMove:function(n){y(!0);var e=n.touches[0],t=S-e.clientX,r=D-e.clientY;_(e.clientX),C(e.clientY),a(t,r)},onMouseMove:function(n){var e=n.nativeEvent,t=e.offsetX,r=e.offsetY;(_(t),C(r),g)&&(y(!0),a(S-t,D-r))},onMouseDown:function(n){var e=n.nativeEvent;j(!0),y(!1);var t=e.offsetX,r=e.offsetY;_(t),C(r)},onMouseUp:function(n){var e=n.nativeEvent;if(j(!1),!x){var t=e.offsetX,r=e.offsetY;o(t,r)}},ref:l},u))},j={white:"#ffffff",gray:"#ecf0f1",grayDark:"#bdc3c7",black:"#34495e",blackDark:"#2c3e50",yellow:"#f1c40f",yellowDark:"#f39c12",orange:"#e67e22",orangeDark:"#d35400",turquoise:"#1abc9c",turquoiseDark:"#16a085",blue:"#3498db",purple:"#9b59b6"},O=t(67),w=1e12,x=1.5e-9,y=["#F8E287","#8DDECE","#9ACCED","#CDACDB","#F3BF91","#F3A69E","#97E6B8","#9AA4AF"],m=[[function(n,e){return n.map((function(n){return e[0]+n*e[1]}))},function(n,e){return e[0]+n*e[1]},function(n,e){return F(2,n,e)},"_x + _",1,-1/0,1/0,2],[function(n,e){return n.map((function(n){return e[0]+n*e[1]+n*n*e[2]}))},function(n,e){return e[0]+n*e[1]+n*n*e[2]},function(n,e){return F(3,n,e)},"_x\xb2 + _x + _",2,-1/0,1/0,3],[function(n,e){return n.map((function(n){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]}))},function(n,e){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]},function(n,e){return F(4,n,e)},"_x\xb3 + _x\xb2 + _x + _",3,-1/0,1/0,4],[function(n,e){return n.map((function(n){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]+Math.pow(n,4)*e[4]}))},function(n,e){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]+Math.pow(n,4)*e[4]},function(n,e){return F(5,n,e)},"_x\u2074 + _x\xb3 + _x\xb2 + _x + _",4,-1/0,1/0,5],[function(n,e){return n.map((function(n){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]+Math.pow(n,4)*e[4]+Math.pow(n,5)*e[5]}))},function(n,e){return e[0]+n*e[1]+n*n*e[2]+Math.pow(n,3)*e[3]+Math.pow(n,4)*e[4]+Math.pow(n,5)*e[5]},function(n,e){return F(6,n,e)},"_x\u2075 + _x\u2074 + _x\xb3 + _x\xb2 + _x + _",5,-1/0,1/0,6],[function(n,e){return n.map((function(n){return e[0]*Math.exp(e[1]*n)+e[2]}))},function(n,e){return e[0]*Math.exp(e[1]*n)+e[2]},function(n,e){return k(5,5e3,n,e)},"_e^_ + _",1,-1/0,1/0,1],[function(n,e){return n.map((function(n){return e[0]*Math.sin(e[1]*n+e[2])+e[3]}))},function(n,e){return e[0]*Math.sin(e[1]*n+e[2])+e[3]},function(n,e){return k(6,5e3,n,e)},"_ * sin(_x + _) + _",3,-1/0,1/0,4],[function(n,e){return n.map((function(n){return e[0]*Math.log(e[1]*n)}))},function(n,e){return e[0]*Math.log(e[1]*n)},function(n,e){return k(7,5e3,n,e)},"_ * ln(_x)",1,1e-12,1/0,1]],M=function(n){Object(s.a)(t,n);var e=Object(f.a)(t);function t(){var n;Object(u.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).ctx=void 0,n.scale=50,n.drawEveryNthLine=1,n.xOrigin=void 0,n.yOrigin=void 0,n.renderingFunctionObjects=[],n.initCanvas=function(e){n.ctx=e,n.xOrigin=e.canvas.width/2,n.yOrigin=e.canvas.height/2},n.canvasDrag=function(e,t){n.xOrigin-=e,n.yOrigin-=t},n.componentDidUpdate=function(e,t){n.props.clearBoardFlag!==e.clearBoardFlag&&(n.renderingFunctionObjects=[]),!0===n.props.findingBestLine&&!1===e.findingBestLine&&(n.renderingFunctionObjects=[],n.renderingFunctionObjects=S(n.props.points),n.props.stopFunctionFind())},n.planeToScreenSpace=function(e,t){var r=e*n.scale,i=t*-n.scale;return[n.xOrigin+r,n.yOrigin+i]},n.screenToPlaneSpace=function(e,t){var r=e-n.xOrigin,i=t-n.yOrigin;return[r/n.scale,i/-n.scale]},n.zoomMultiplyCounter=2,n.zoom=function(e,t,r){var i=e*n.scale*.003;if(n.scale>w&&i<0||n.scale<x&&i>0)console.log("Returning cause scale is",n.scale,"and delta is",i);else{var a=n.screenToPlaneSpace(t,r);n.scale-=i;var o=n.planeToScreenSpace(a[0],a[1]);n.xOrigin-=o[0]-t,n.yOrigin-=o[1]-r,n.drawEveryNthLine*n.scale<20?(n.zoomMultiplyCounter--,n.zoomMultiplyCounter<0?(n.zoomMultiplyCounter+=3,n.drawEveryNthLine*=2.5):n.drawEveryNthLine*=2):n.drawEveryNthLine*n.scale>50&&(n.zoomMultiplyCounter++,n.zoomMultiplyCounter>2?(n.zoomMultiplyCounter-=3,n.drawEveryNthLine/=2.5):n.drawEveryNthLine/=2),n.draw()}},n.draw=function(){var e=function(e,t,r){e.lineWidth=5,e.strokeStyle=r,e.beginPath();for(var i=m[t[1]][5],a=m[t[1]][6],o=void 0===i?0:Math.max(n.planeToScreenSpace(i,0)[0],0),c=void 0===a?e.canvas.width:Math.min(n.planeToScreenSpace(a,0)[0],e.canvas.width),u=(c-o)/200,l=o;l<c;l+=u){var s=n.screenToPlaneSpace(l,0)[0],f=n.planeToScreenSpace(0,t[0](s))[1];e.lineTo(l,Math.max(0,Math.min(f,e.canvas.height)))}e.stroke()},t=function(n,e,t,r,i){n.fillStyle=y[7],n.font="15px Arial",n.fillText("Error "+e[3],r,i+15),n.font="25px Arial",n.fillStyle=y[7],n.fillText(e[2],r+1,i+1),n.fillStyle=t,n.fillText(e[2],r,i)},r=n.ctx;if(void 0!==r){r.lineWidth=1,function(n){n.fillStyle=j.white,n.beginPath(),n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fill()}(r),function(e){e.lineWidth=2,e.beginPath(),e.strokeStyle=j.gray;for(var t=n.scale*n.drawEveryNthLine,r=n.xOrigin%t,i=r;i<e.canvas.width;i+=t)e.moveTo(i,0),e.lineTo(i,e.canvas.height);for(var a=r=n.yOrigin%t;a<e.canvas.height;a+=t)e.moveTo(0,a),e.lineTo(e.canvas.width,a);e.stroke()}(r);for(var i=0;i<n.renderingFunctionObjects.length;i++)e(r,n.renderingFunctionObjects[i],y[i]);!function(e){e.lineWidth=2,e.beginPath(),e.strokeStyle=j.black,e.moveTo(0,n.yOrigin),e.lineTo(e.canvas.width,n.yOrigin),e.moveTo(n.xOrigin,0),e.lineTo(n.xOrigin,e.canvas.height),e.stroke()}(r),function(e){e.beginPath(),e.fillStyle=j.blue;for(var t=0;t<n.props.points.length;t++){var r=n.planeToScreenSpace(n.props.points[t][0],n.props.points[t][1]),i=Object(c.a)(r,2),a=i[0],o=i[1];e.moveTo(a,o),e.arc(a,o,6,0,2*Math.PI)}e.fill()}(r),function(e){var t=5*n.drawEveryNthLine,r=n.screenToPlaneSpace(0,0),i=Math.floor(r[0]/t)*t,a=Math.floor(r[1]/t)*t,o=n.planeToScreenSpace(i,a);e.font="20px Arial",e.fillStyle=j.blackDark;for(var c=1e11,u=0,l=o[0]+0;l<e.canvas.width;){var s=Math.round((i+u*t)*c)/c;0!==s&&e.fillText(s,l,-5+n.yOrigin),u++,l+=n.scale*t}for(u=0,l=o[1]+-5;l<e.canvas.height;){var f=Math.round((a+u*t)*c)/c;0!==f&&e.fillText(f,0+n.xOrigin,l),u--,l+=n.scale*t}}(r);for(var a=0;a<n.renderingFunctionObjects.length;a++)t(r,n.renderingFunctionObjects[a],y[a],30,window.innerHeight-50*a-30)}else console.error("Canvas context was undefined!")},n}return Object(l.a)(t,[{key:"render",value:function(){return Object(p.jsx)(g,{init:this.initCanvas,draw:this.draw,zoom:this.zoom,addDataPoint:function(){},canvasDrag:this.canvasDrag})}}]),t}(r.Component);function S(n){for(var e=Array(n.length),t=Array(n.length),r=0;r<n.length;r++)e[r]=n[r][0],t[r]=n[r][1];for(var i=[],a=0,o=function(r){if(n.length<m[r][7])return"continue";var o=m[r][2](e,t),c=m[r][4];i[a]=[function(n){return m[r][1](n,o)},r,-1,o],i[a][2]=c*function(n,e,t){for(var r=0,i=0;i<e.length;i++)r+=Math.pow(n(e[i])-t[i],2);return r/e.length}(i[a][0],e,t),a++},c=0;c<m.length;c++)o(c);i.sort((function(n,e){return n[2]<e[2]?-1:1}));for(var u=[],l=0;l<3&&!(0!==l&&i[l][2]>1);l++)u.push([i[l][0],i[l][1],_(i[l][1],i[l][3]),i[l][2]]);return u}function _(n,e){for(var t=Math.pow(10,5),r=function(n){return Math.round((n+Number.EPSILON)*t)/t},i=m[n][3],a=0,o=0;o<i.length;o++)"_"===i[o]&&(e[a]<0?o-2>0&&"+"==i[o-2]?i=(i=i.slice(0,o-2)+"-"+i.slice(o-1)).slice(0,o)+r(Math.abs(e[a]))+i.slice(o+1):o-1>0&&"+"==i[o-1]?(i[o-1]="-",i=i.slice(0,o)+r(Math.abs(e[a]))+i.slice(o+1)):i=i.slice(0,o)+r(e[a])+i.slice(o+1):i=i.slice(0,o)+r(e[a])+i.slice(o+1),a++);return i}function F(n,e,t){for(var r=Object(O.b)(n,n),i=Object(O.b)(1,n),a=[],o=0;o<2*n-1;o++){a[o]=0;for(var c=0;c<e.length;c++)a[o]+=Math.pow(e[c],o)}r=r.map((function(n,e){return a[e[0]+e[1]]})),i=i.map((function(n,r,i){for(var a=0,o=0;o<e.length;o++)a+=t[o]*Math.pow(e[o],r[1]);return a}));var u=function(n){if(n.length===n[0].length){var e=0,t=0,r=0,i=n.length,a=0,o=[],c=[];for(e=0;e<i;e+=1)for(o[o.length]=[],c[c.length]=[],r=0;r<i;r+=1)o[e][r]=e===r?1:0,c[e][r]=n[e][r];for(e=0;e<i;e+=1){if(0===(a=c[e][e])){for(t=e+1;t<i;t+=1)if(0!==c[t][e]){for(r=0;r<i;r++)a=c[e][r],c[e][r]=c[t][r],c[t][r]=a,a=o[e][r],o[e][r]=o[t][r],o[t][r]=a;break}if(0===(a=c[e][e]))return}for(r=0;r<i;r++)c[e][r]=c[e][r]/a,o[e][r]=o[e][r]/a;for(t=0;t<i;t++)if(t!==e)for(a=c[t][e],r=0;r<i;r++)c[t][r]-=a*c[e][r],o[t][r]-=a*o[e][r]}return o}}(r._data);return Object(O.a)(i,u)._data[0]}function k(n,e,t,r){var i=Array(10).fill(1);return function(n,e,t,r,i){i||(i={});i.maxIter||(i.maxIter=1e3);i.step||(i.step=e.map((function(n){return n/100})),i.step=i.step.map((function(n){return 0==n?1:n})));"undefined"==typeof i.display&&(i.display=!0);i.objFun||(i.objFun=function(n,e){return n.map((function(n,t){return Math.pow(n-e[t],2)})).reduce((function(n,e){return n+e}))});for(var a=function(n){return n.map((function(n){return n}))},o=a(e),c=a(e),u=o.length,l=i.step,s=function(e){return i.objFun(r,n(t,e))},f=0;f<i.maxIter;f++)for(var d=0;d<u;d++)(c=a(o))[d]+=l[d],s(c)<s(o)?(l[d]=1.2*l[d],o=a(c)):l[d]=-.5*l[d];return o}(m[n][0],i,t,r,{maxIter:e,display:!1})}var D=M,C=t(68),T=t(42),E=t(70),L=t(69),N=t(66);var z=function(n){var e=n.addPoint,t={backgroundColor:j.yellowDark,borderColor:j.yellowDark},i=Object(r.useState)(""),a=Object(c.a)(i,2),u=a[0],l=a[1],s=Object(r.useState)(""),f=Object(c.a)(s,2),d=f[0],h=f[1],v=Object(r.useState)(!1),b=Object(c.a)(v,2),g=b[0],O=b[1],w=Object(r.useState)(!1),x=Object(c.a)(w,2),y=x[0],m=x[1];function M(){var n=""===d||""===u;O(""===d),m(""===u),n||(l(""),h(""),e(Number(d),Number(u)))}var S=function(n,e){var t=n.key.toLowerCase();if(["arrowright","arrowleft","enter"].includes(t)){var r=n.target.form,i=Object(o.a)(r).indexOf(n.target);r.elements[i+e].focus(),n.preventDefault()}};return Object(p.jsxs)(C.a,{style:{background:j.turquoise},expand:"lg",sticky:"top",children:[Object(p.jsx)(T.a,{children:Object(p.jsxs)("div",{className:"leftSide",children:[Object(p.jsx)(C.a.Brand,{className:"ml-2",children:"Find a Function"}),Object(p.jsx)(E.a,{style:t,onClick:function(){return n.clear()},children:"Clear"})]})}),Object(p.jsx)(T.a,{children:Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(E.a,{style:t,disabled:!n.findingDone,onClick:function(){return n.startFunctionFind()},children:n.findingDone?"Start Find":"Finding..."})})}),Object(p.jsx)(T.a,{children:Object(p.jsx)("div",{className:"rightSide",children:Object(p.jsx)(L.a,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(T.a,{style:{width:"40%"},children:Object(p.jsx)(L.a.Control,{isInvalid:g,size:"sm",type:"text",placeholder:"X-Coord",value:d,onInput:function(n){return h(n.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))},onKeyDown:function(n){S(n,1)}})}),Object(p.jsx)(T.a,{style:{width:"40%"},children:Object(p.jsx)(L.a.Control,{isInvalid:y,size:"sm",type:"text",placeholder:"Y-Coord",value:u,onInput:function(n){return l(n.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))},onKeyDown:function(n){S(n,-1),"enter"===n.key.toLowerCase()&&M()}})}),Object(p.jsx)(T.a,{style:{width:"20%"},children:Object(p.jsx)(E.a,{style:t,onClick:M,children:"Add"})})]})})})})]})};var P=function(){var n=Object(r.useState)([]),e=Object(c.a)(n,2),t=e[0],i=e[1],a=Object(r.useState)(!1),u=Object(c.a)(a,2),l=u[0],s=u[1],f=Object(r.useState)(!1),d=Object(c.a)(f,2),h=d[0],v=d[1],b=Object(r.useState)(!0),g=Object(c.a)(b,2),j=g[0],O=g[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(z,{addPoint:function(n,e){i([].concat(Object(o.a)(t),[[n,e]]))},clear:function(){i([]),s(!l)},findingDone:j,startFunctionFind:function(){v(!0),O(!1)}}),Object(p.jsx)(D,{clearBoardFlag:l,points:t,findingBestLine:h,stopFunctionFind:function(){v(!1),O(!0)}})]})};t(60);a.a.render(Object(p.jsx)(P,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.a557416f.chunk.js.map